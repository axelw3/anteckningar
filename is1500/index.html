
<!doctype html>
<html lang="sv" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../dd1351/">
      
      
        <link rel="next" href="../sf1625/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.48">
    
    
      
        <title>IS1500 Datorteknik och komponenter 9,0 hp - Anteckningar</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/styles.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#is1500-datorteknik-och-komponenter-90-hp" class="md-skip">
          Gå till innehållet
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Sidhuvud">
    <a href=".." title="Anteckningar" class="md-header__button md-logo" aria-label="Anteckningar" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Anteckningar
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              IS1500 Datorteknik och komponenter 9,0 hp
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Sök" placeholder="Sök" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Sök">
        
        <button type="reset" class="md-search__icon md-icon" title="Rensa" aria-label="Rensa" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialiserar sök
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Anteckningar" class="md-nav__button md-logo" aria-label="Anteckningar" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Anteckningar
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Start
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../dd1351/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DD1351 Logik för dataloger 7,5 hp
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    IS1500 Datorteknik och komponenter 9,0 hp
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    IS1500 Datorteknik och komponenter 9,0 hp
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Innehållsförteckning">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Innehållsförteckning
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#forelasning-1-inledning" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 1: Inledning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 1: Inledning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bakgrund" class="md-nav__link">
    <span class="md-ellipsis">
      Bakgrund
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spraket-c" class="md-nav__link">
    <span class="md-ellipsis">
      Språket C
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Språket C">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bestandsdelar" class="md-nav__link">
    <span class="md-ellipsis">
      Beståndsdelar
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-2-assembly" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 2: Assembly
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 2: Assembly">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruktionsuppsattning-isa" class="md-nav__link">
    <span class="md-ellipsis">
      Instruktionsuppsättning (ISA)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instruktionsuppsättning (ISA)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ciscrisc" class="md-nav__link">
    <span class="md-ellipsis">
      CISC/RISC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#risc-v-register" class="md-nav__link">
    <span class="md-ellipsis">
      RISC-V: Register
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#endianness" class="md-nav__link">
    <span class="md-ellipsis">
      Endianness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#risc-v-assembly" class="md-nav__link">
    <span class="md-ellipsis">
      RISC-V: Assembly
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RISC-V: Assembly">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logiska-instruktioner" class="md-nav__link">
    <span class="md-ellipsis">
      Logiska instruktioner
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilldela-32-bitarstal" class="md-nav__link">
    <span class="md-ellipsis">
      Tilldela 32-bitarstal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rars" class="md-nav__link">
    <span class="md-ellipsis">
      RARS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-3-maskinkod" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 3: Maskinkod
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 3: Maskinkod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bytes-nibbles-och-ord" class="md-nav__link">
    <span class="md-ellipsis">
      Bytes, nibbles och ord
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#twos-complement" class="md-nav__link">
    <span class="md-ellipsis">
      Two's complement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#risc-v-typer-av-instruktioner" class="md-nav__link">
    <span class="md-ellipsis">
      RISC-V: Typer av instruktioner
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RISC-V: Typer av instruktioner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-instruktioner-r" class="md-nav__link">
    <span class="md-ellipsis">
      Register-instruktioner (R)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#immediate-instruktioner-i" class="md-nav__link">
    <span class="md-ellipsis">
      Immediate-instruktioner (I)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Immediate-instruktioner (I)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shift-immediate-instruktioner" class="md-nav__link">
    <span class="md-ellipsis">
      Shift immediate-instruktioner
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store-instruktioner-s" class="md-nav__link">
    <span class="md-ellipsis">
      Store-instruktioner (S)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branch-instruktioner-b" class="md-nav__link">
    <span class="md-ellipsis">
      Branch-instruktioner (B)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upper-immediate-instruktioner-u" class="md-nav__link">
    <span class="md-ellipsis">
      Upper immediate-instruktioner (U)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jump-instruktioner-j" class="md-nav__link">
    <span class="md-ellipsis">
      Jump-instruktioner (J)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-minne" class="md-nav__link">
    <span class="md-ellipsis">
      Stack-minne
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-4-c" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 4: C
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 4: C">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pointer-aritmetik" class="md-nav__link">
    <span class="md-ellipsis">
      Pointer-aritmetik
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-5-io-system-12" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 5: I/O-system (1/2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 5: I/O-system (1/2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bussar" class="md-nav__link">
    <span class="md-ellipsis">
      Bussar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bussar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#synkron-buss" class="md-nav__link">
    <span class="md-ellipsis">
      Synkron buss
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asynkron-buss" class="md-nav__link">
    <span class="md-ellipsis">
      Asynkron buss
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#direkt-minnesatkomst-dma" class="md-nav__link">
    <span class="md-ellipsis">
      Direkt minnesåtkomst (DMA)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-6-io-system-22" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 6: I/O-system (2/2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 6: I/O-system (2/2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parallellseriell-kommunikation" class="md-nav__link">
    <span class="md-ellipsis">
      Parallell/seriell kommunikation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#undantag-och-avbrott" class="md-nav__link">
    <span class="md-ellipsis">
      Undantag och avbrott
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Undantag och avbrott">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aktivera-avbrott" class="md-nav__link">
    <span class="md-ellipsis">
      Aktivera avbrott
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-7-kombinationslogik" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 7: Kombinationslogik
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 7: Kombinationslogik">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logiska-grindar" class="md-nav__link">
    <span class="md-ellipsis">
      Logiska grindar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolesk-algebra" class="md-nav__link">
    <span class="md-ellipsis">
      Boolesk algebra
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kombinationskretsar" class="md-nav__link">
    <span class="md-ellipsis">
      Kombinationskretsar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kombinationskretsar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiplexrar-och-avkodare" class="md-nav__link">
    <span class="md-ellipsis">
      Multiplexrar och avkodare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aritmetik" class="md-nav__link">
    <span class="md-ellipsis">
      Aritmetik
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Aritmetik">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adderare" class="md-nav__link">
    <span class="md-ellipsis">
      Adderare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#carry-propagate-adder-cpa" class="md-nav__link">
    <span class="md-ellipsis">
      Carry propagate adder (CPA)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-8-sekventiell-logik" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 8: Sekventiell logik
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 8: Sekventiell logik">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sr-vippa-sr-latch" class="md-nav__link">
    <span class="md-ellipsis">
      SR-vippa (SR latch)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d-latch" class="md-nav__link">
    <span class="md-ellipsis">
      D latch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flip-flops" class="md-nav__link">
    <span class="md-ellipsis">
      Flip-flops
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flip-flops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d-vippa-d-flip-flop" class="md-nav__link">
    <span class="md-ellipsis">
      D-vippa (D flip-flop)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resettableenabled-flip-flops" class="md-nav__link">
    <span class="md-ellipsis">
      Resettable/enabled flip-flops
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register" class="md-nav__link">
    <span class="md-ellipsis">
      Register
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Register">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registerfil" class="md-nav__link">
    <span class="md-ellipsis">
      Registerfil
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synkrona-sekventiella-kretsar" class="md-nav__link">
    <span class="md-ellipsis">
      Synkrona sekventiella kretsar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Synkrona sekventiella kretsar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hur-snabbt-kan-vi-kora-en-krets" class="md-nav__link">
    <span class="md-ellipsis">
      Hur snabbt kan vi köra en krets?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-9-alu-och-encykelprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 9: ALU och encykelprocessor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 9: ALU och encykelprocessor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#alu-aritmetisk-logisk-enhet" class="md-nav__link">
    <span class="md-ellipsis">
      ALU (aritmetisk logisk enhet)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-path-i-encykelprocessorer" class="md-nav__link">
    <span class="md-ellipsis">
      Data path (i encykelprocessorer)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kontrollenhet-i-encykelprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      Kontrollenhet (i encykelprocessor)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prestanda" class="md-nav__link">
    <span class="md-ellipsis">
      Prestanda
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-10-pipeline-processorer" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 10: Pipeline-processorer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 10: Pipeline-processorer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#begrepp" class="md-nav__link">
    <span class="md-ellipsis">
      Begrepp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallellism-och-pipelining" class="md-nav__link">
    <span class="md-ellipsis">
      Parallellism och pipelining
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-och-kontrollfaror" class="md-nav__link">
    <span class="md-ellipsis">
      Data- och kontrollfaror
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#antalet-pipeline-steg" class="md-nav__link">
    <span class="md-ellipsis">
      Antalet pipeline-steg
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Antalet pipeline-steg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hur-minimera-branch-mispredictions" class="md-nav__link">
    <span class="md-ellipsis">
      Hur minimera branch mispredictions?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-11-minneshierarki" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 11: Minneshierarki
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-12-parallellism-samtidighet-uppsnabbning-och-ilp" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 12: Parallellism, samtidighet, uppsnabbning och ILP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-13-simd-mimd-och-parallellprogrammering" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 13: SIMD, MIMD och parallellprogrammering
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../sf1625/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SF1625 Envariabelanalys 7,5 hp
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../sf1626/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SF1626 Flervariabelanalys 7,5 hp
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../sf1671/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SF1671 Matematik, baskurs, med diskret matematik 7,5 hp
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../sf1935/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SF1935 Sannolikhetsteori och statistik med tillämpning inom maskininlärning 7,5 hp
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Innehållsförteckning">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Innehållsförteckning
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#forelasning-1-inledning" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 1: Inledning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 1: Inledning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bakgrund" class="md-nav__link">
    <span class="md-ellipsis">
      Bakgrund
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spraket-c" class="md-nav__link">
    <span class="md-ellipsis">
      Språket C
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Språket C">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bestandsdelar" class="md-nav__link">
    <span class="md-ellipsis">
      Beståndsdelar
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-2-assembly" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 2: Assembly
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 2: Assembly">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruktionsuppsattning-isa" class="md-nav__link">
    <span class="md-ellipsis">
      Instruktionsuppsättning (ISA)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instruktionsuppsättning (ISA)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ciscrisc" class="md-nav__link">
    <span class="md-ellipsis">
      CISC/RISC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#risc-v-register" class="md-nav__link">
    <span class="md-ellipsis">
      RISC-V: Register
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#endianness" class="md-nav__link">
    <span class="md-ellipsis">
      Endianness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#risc-v-assembly" class="md-nav__link">
    <span class="md-ellipsis">
      RISC-V: Assembly
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RISC-V: Assembly">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logiska-instruktioner" class="md-nav__link">
    <span class="md-ellipsis">
      Logiska instruktioner
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilldela-32-bitarstal" class="md-nav__link">
    <span class="md-ellipsis">
      Tilldela 32-bitarstal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rars" class="md-nav__link">
    <span class="md-ellipsis">
      RARS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-3-maskinkod" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 3: Maskinkod
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 3: Maskinkod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bytes-nibbles-och-ord" class="md-nav__link">
    <span class="md-ellipsis">
      Bytes, nibbles och ord
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#twos-complement" class="md-nav__link">
    <span class="md-ellipsis">
      Two's complement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#risc-v-typer-av-instruktioner" class="md-nav__link">
    <span class="md-ellipsis">
      RISC-V: Typer av instruktioner
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RISC-V: Typer av instruktioner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-instruktioner-r" class="md-nav__link">
    <span class="md-ellipsis">
      Register-instruktioner (R)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#immediate-instruktioner-i" class="md-nav__link">
    <span class="md-ellipsis">
      Immediate-instruktioner (I)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Immediate-instruktioner (I)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shift-immediate-instruktioner" class="md-nav__link">
    <span class="md-ellipsis">
      Shift immediate-instruktioner
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store-instruktioner-s" class="md-nav__link">
    <span class="md-ellipsis">
      Store-instruktioner (S)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branch-instruktioner-b" class="md-nav__link">
    <span class="md-ellipsis">
      Branch-instruktioner (B)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upper-immediate-instruktioner-u" class="md-nav__link">
    <span class="md-ellipsis">
      Upper immediate-instruktioner (U)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jump-instruktioner-j" class="md-nav__link">
    <span class="md-ellipsis">
      Jump-instruktioner (J)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-minne" class="md-nav__link">
    <span class="md-ellipsis">
      Stack-minne
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-4-c" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 4: C
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 4: C">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pointer-aritmetik" class="md-nav__link">
    <span class="md-ellipsis">
      Pointer-aritmetik
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-5-io-system-12" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 5: I/O-system (1/2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 5: I/O-system (1/2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bussar" class="md-nav__link">
    <span class="md-ellipsis">
      Bussar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bussar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#synkron-buss" class="md-nav__link">
    <span class="md-ellipsis">
      Synkron buss
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asynkron-buss" class="md-nav__link">
    <span class="md-ellipsis">
      Asynkron buss
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#direkt-minnesatkomst-dma" class="md-nav__link">
    <span class="md-ellipsis">
      Direkt minnesåtkomst (DMA)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-6-io-system-22" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 6: I/O-system (2/2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 6: I/O-system (2/2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parallellseriell-kommunikation" class="md-nav__link">
    <span class="md-ellipsis">
      Parallell/seriell kommunikation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#undantag-och-avbrott" class="md-nav__link">
    <span class="md-ellipsis">
      Undantag och avbrott
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Undantag och avbrott">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aktivera-avbrott" class="md-nav__link">
    <span class="md-ellipsis">
      Aktivera avbrott
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-7-kombinationslogik" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 7: Kombinationslogik
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 7: Kombinationslogik">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logiska-grindar" class="md-nav__link">
    <span class="md-ellipsis">
      Logiska grindar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolesk-algebra" class="md-nav__link">
    <span class="md-ellipsis">
      Boolesk algebra
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kombinationskretsar" class="md-nav__link">
    <span class="md-ellipsis">
      Kombinationskretsar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kombinationskretsar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiplexrar-och-avkodare" class="md-nav__link">
    <span class="md-ellipsis">
      Multiplexrar och avkodare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aritmetik" class="md-nav__link">
    <span class="md-ellipsis">
      Aritmetik
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Aritmetik">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adderare" class="md-nav__link">
    <span class="md-ellipsis">
      Adderare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#carry-propagate-adder-cpa" class="md-nav__link">
    <span class="md-ellipsis">
      Carry propagate adder (CPA)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-8-sekventiell-logik" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 8: Sekventiell logik
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 8: Sekventiell logik">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sr-vippa-sr-latch" class="md-nav__link">
    <span class="md-ellipsis">
      SR-vippa (SR latch)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d-latch" class="md-nav__link">
    <span class="md-ellipsis">
      D latch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flip-flops" class="md-nav__link">
    <span class="md-ellipsis">
      Flip-flops
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flip-flops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d-vippa-d-flip-flop" class="md-nav__link">
    <span class="md-ellipsis">
      D-vippa (D flip-flop)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resettableenabled-flip-flops" class="md-nav__link">
    <span class="md-ellipsis">
      Resettable/enabled flip-flops
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register" class="md-nav__link">
    <span class="md-ellipsis">
      Register
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Register">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registerfil" class="md-nav__link">
    <span class="md-ellipsis">
      Registerfil
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synkrona-sekventiella-kretsar" class="md-nav__link">
    <span class="md-ellipsis">
      Synkrona sekventiella kretsar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Synkrona sekventiella kretsar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hur-snabbt-kan-vi-kora-en-krets" class="md-nav__link">
    <span class="md-ellipsis">
      Hur snabbt kan vi köra en krets?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-9-alu-och-encykelprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 9: ALU och encykelprocessor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 9: ALU och encykelprocessor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#alu-aritmetisk-logisk-enhet" class="md-nav__link">
    <span class="md-ellipsis">
      ALU (aritmetisk logisk enhet)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-path-i-encykelprocessorer" class="md-nav__link">
    <span class="md-ellipsis">
      Data path (i encykelprocessorer)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kontrollenhet-i-encykelprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      Kontrollenhet (i encykelprocessor)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prestanda" class="md-nav__link">
    <span class="md-ellipsis">
      Prestanda
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-10-pipeline-processorer" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 10: Pipeline-processorer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Föreläsning 10: Pipeline-processorer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#begrepp" class="md-nav__link">
    <span class="md-ellipsis">
      Begrepp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallellism-och-pipelining" class="md-nav__link">
    <span class="md-ellipsis">
      Parallellism och pipelining
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-och-kontrollfaror" class="md-nav__link">
    <span class="md-ellipsis">
      Data- och kontrollfaror
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#antalet-pipeline-steg" class="md-nav__link">
    <span class="md-ellipsis">
      Antalet pipeline-steg
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Antalet pipeline-steg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hur-minimera-branch-mispredictions" class="md-nav__link">
    <span class="md-ellipsis">
      Hur minimera branch mispredictions?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-11-minneshierarki" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 11: Minneshierarki
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-12-parallellism-samtidighet-uppsnabbning-och-ilp" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 12: Parallellism, samtidighet, uppsnabbning och ILP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forelasning-13-simd-mimd-och-parallellprogrammering" class="md-nav__link">
    <span class="md-ellipsis">
      Föreläsning 13: SIMD, MIMD och parallellprogrammering
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="is1500-datorteknik-och-komponenter-90-hp">IS1500 Datorteknik och komponenter 9,0 hp</h1>
<table>
<thead>
<tr>
<th>Tillfälleskod</th>
<th>Termin(er)</th>
<th>Period(er)</th>
<th>Föreläsare</th>
</tr>
</thead>
<tbody>
<tr>
<td>51197</td>
<td>HT2024</td>
<td>3</td>
<td>Artur Podobas</td>
</tr>
</tbody>
</table>
<p>Sammanfattning av kursens material inför tentamen.</p>
<h2 id="forelasning-1-inledning">Föreläsning 1: Inledning</h2>
<h3 id="bakgrund">Bakgrund</h3>
<blockquote>
<p><strong>Moores lag:</strong> 2x transistorer varje 18-24 månader.<br>
<strong>The power wall:</strong> Högre klockfrekvens leder till mer ström &amp; värmeutveckling (Pentium 4).</p>
<p>Idag mer fokus på flerkärniga processorer och specialiserade kretsar - nya utmaningar: parallellprogrammering och hårdvaruspecialisering.</p>
</blockquote>
<p>Abstraktionsnivåer i datorsystem:</p>
<ul>
<li>Ett datorsystem</li>
<li>Mjukvara: Program/operativsystem</li>
<li>Gränssnitt mellan hård- och mjukvara: ISA (instruktionsuppsättning)</li>
<li>Digital hårdvarudesign: Mikroarkitektur, logik och digitala kretsar</li>
<li>Analog hårdvarudesign: Analoga kretsar, komponenter och fysik</li>
</ul>
<h3 id="spraket-c">Språket C</h3>
<p>C är ett imperativt (tillstånd förändras av tilldelningar) lågnivåspråk.</p>
<p>T.ex.
<div class="language-c highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="cm">/* Main function. */</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello world!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">}</span>
</span></code></pre></div></p>
<h4 id="bestandsdelar">Beståndsdelar</h4>
<ul>
<li><strong>Literals:</strong> T.ex. <code>0x01</code>, <code>3.1415</code>.</li>
<li><strong>Identifiers:</strong> Variabel- och funktionsnamn. T.ex. <code>my_variable</code>, <code>min</code>.</li>
<li><strong>Keywords:</strong> Inbyggda, reserverade ord. T.ex. <code>if</code>, <code>else</code>, <code>int</code>.</li>
<li><strong>Statements:</strong> Avslutas med semikolon. T.ex. <code>int a = 1;</code>.</li>
<li><strong>Expressions:</strong> T.ex. <code>a * 2</code>.</li>
<li><strong>Operators:</strong> T.ex. <code>+</code>, <code>-</code>, <code>&amp;</code>, <code>&lt;&lt;</code>, <code>==</code>.</li>
</ul>
<h2 id="forelasning-2-assembly">Föreläsning 2: Assembly</h2>
<h3 id="instruktionsuppsattning-isa">Instruktionsuppsättning (ISA)</h3>
<p>En ISA (t.ex. x86) fungerar som ett gränssnitt mellan hårdvara och mjukvara, och implementeras av mikroarkitekturen (t.ex. Intel/AMD-processorer).</p>
<h4 id="ciscrisc">CISC/RISC</h4>
<ul>
<li><strong>Complex Instruction Set Computers (CISC):</strong> Många <em>specialiserade</em> instruktioner av <em>variarande storlek</em> och tidsåtgång (cykler).</li>
<li><strong>Reduced Instruction Set Computers (RISC):</strong> Möjliggör enklare hårdvara. Normalt fix storlek och en cykel/instruktion (exkl. minnesåtkomst och cachemissar).</li>
</ul>
<h4 id="risc-v-register">RISC-V: Register</h4>
<table>
<thead>
<tr>
<th>#</th>
<th>Namn</th>
<th>Beskrivning</th>
<th>Sparas av</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td><code>zero</code></td>
<td>Konstant 0.</td>
<td>-</td>
</tr>
<tr>
<td>1</td>
<td><code>ra</code></td>
<td>Returadress.</td>
<td>Caller</td>
</tr>
<tr>
<td>2</td>
<td><code>sp</code></td>
<td>Stackpekare.</td>
<td>Callee</td>
</tr>
<tr>
<td>3</td>
<td><code>gp</code></td>
<td>Global pekare.</td>
<td>-</td>
</tr>
<tr>
<td>4</td>
<td><code>tp</code></td>
<td>Trådpekare.</td>
<td>-</td>
</tr>
<tr>
<td>5-7</td>
<td><code>t0</code>-<code>t2</code></td>
<td>Temporär.</td>
<td>Caller</td>
</tr>
<tr>
<td>8-9</td>
<td><code>s0</code>,<code>s1</code></td>
<td>Sparade.</td>
<td>Callee</td>
</tr>
<tr>
<td>10-17</td>
<td><code>a0</code>-<code>a7</code></td>
<td>Argument/returvärden (<code>a0</code>-<code>a1</code>).</td>
<td>-</td>
</tr>
<tr>
<td>18-27</td>
<td><code>s2</code>-<code>s11</code></td>
<td>Sparade.</td>
<td>Callee</td>
</tr>
<tr>
<td>28-31</td>
<td><code>t3</code>-<code>t6</code></td>
<td>Temporära.</td>
<td>Caller</td>
</tr>
</tbody>
</table>
<h4 id="endianness">Endianness</h4>
<ul>
<li><strong>Big-endian:</strong> Ordets MSB sparas på lägsta adress. T.ex. 1 = <code>00 00 00 01</code>.</li>
<li><strong>Little-endian:</strong> Ordets LSB sparas på lägsta adress. T.ex. 1 = <code>01 00 00 00</code>.</li>
</ul>
<p><strong>OBS!</strong> RISC-V är litte-endian!</p>
<h4 id="risc-v-assembly">RISC-V: Assembly</h4>
<h5 id="logiska-instruktioner">Logiska instruktioner</h5>
<p><code>and</code>, <code>or</code>, <code>xor</code>, <code>andi</code>, <code>ori</code>, <code>xori</code>, <code>slli</code> ("&lt;&lt;"), <code>srli</code> (logisk, JS: "&gt;&gt;&gt;"), <code>srai</code> (aritmetisk, JS: "&gt;&gt;")</p>
<p>"NOT" kan utföras med hjälp av <code>xori</code>:</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nf">xori</span><span class="w"> </span><span class="no">t0</span><span class="p">,</span><span class="w"> </span><span class="no">t1</span><span class="p">,</span><span class="w"> </span><span class="mi">0xffffffff</span><span class="w"> </span><span class="c1"># -1 fungerar ockå</span>
</span></code></pre></div>
<p><strong>OBS!</strong> Immediates i RISC-V teckenförlängs till 12 bitar. Immediatevärdet i den läsbara instruktionen tolkas dock som ett signerat 32-bitarstal, vilket medför att <code>0xffffffff</code> tolkas som -1, som kan representeras i 12 bitar som <code>0xFFF</code>, och alltså ryms i instruktionen. Att skriva <code>0xFFF</code> direkt fungerar dock <em>inte</em>, eftersom detta tolkas som 4095, och därmed inte kan representeras av ett signerat 12-bitarstal.</p>
<h5 id="tilldela-32-bitarstal">Tilldela 32-bitarstal</h5>
<p>För att tilldela ett 32-bitarsvärde till ett register använder vi två instruktioner:</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nf">lui</span><span class="w"> </span><span class="no">s0</span><span class="p">,</span><span class="w"> </span><span class="mi">0x6af02</span><span class="w">     </span><span class="c1"># De 20 mest signifikanta bitarna (övriga := 0): s0 := 0x6af02000</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nf">ori</span><span class="w"> </span><span class="no">s0</span><span class="p">,</span><span class="w"> </span><span class="no">s0</span><span class="p">,</span><span class="w"> </span><span class="mi">0x2e7</span><span class="w">   </span><span class="c1"># De 12 resterande (minst signifikanta) bitarna: s0 := 0x6af022e7</span>
</span></code></pre></div>
<h5 id="rars">RARS</h5>
<p>Exempel:
<div class="language-asm highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="na">.data</span><span class="w">               </span><span class="c1"># Spara i data-delen av minnet</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="na">.align</span><span class="w"> </span><span class="mi">2</span><span class="w">            </span><span class="c1"># Assemblatorn kommer att se till att följande data är ord-justerad</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">                    </span><span class="c1"># OBS! 2 = log2(&lt;antal bytes&gt;)</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="nl">msg:</span><span class="w">    </span><span class="na">.space</span><span class="w">  </span><span class="mi">8</span><span class="w">   </span><span class="c1"># Reservera 8 bytes och ge denna etiketten &quot;msg&quot;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="na">.text</span><span class="w">                           </span><span class="c1"># Spara i text-delen av minnet (dvs. maskinkod följer)</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="nl">main:</span><span class="w">   </span><span class="nf">la</span><span class="w">      </span><span class="no">t1</span><span class="p">,</span><span class="w"> </span><span class="no">msg</span><span class="w">         </span><span class="c1"># Hämta adress för en etikett (&quot;msg&quot;)</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">        </span><span class="nf">addi</span><span class="w">    </span><span class="no">t2</span><span class="p">,</span><span class="w"> </span><span class="no">zero</span><span class="p">,</span><span class="w"> </span><span class="mi">0x27</span><span class="w">  </span><span class="c1"># t2 := 0x27</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">        </span><span class="nf">sb</span><span class="w">      </span><span class="no">t2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">(</span><span class="no">t1</span><span class="p">)</span><span class="w">       </span><span class="c1"># Spara en byte (t2) på minnesadress t1 + 0</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">        </span><span class="nf">addi</span><span class="w">    </span><span class="no">t2</span><span class="p">,</span><span class="w"> </span><span class="no">zero</span><span class="p">,</span><span class="w"> </span><span class="mi">0x18</span><span class="w">  </span><span class="c1"># t2 := 0x18</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">        </span><span class="nf">sb</span><span class="w">      </span><span class="no">t2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">(</span><span class="no">t1</span><span class="p">)</span><span class="w">       </span><span class="c1"># Spara en byte (t2) på minnesadress t1 + 1</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">        </span><span class="nf">li</span><span class="w">      </span><span class="no">t2</span><span class="p">,</span><span class="w"> </span><span class="mi">0x4b544800</span><span class="w">  </span><span class="c1"># Load immediate (pseudoinstruktion)</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">        </span><span class="nf">sw</span><span class="w">      </span><span class="no">t2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">(</span><span class="no">t1</span><span class="p">)</span><span class="w">       </span><span class="c1"># Spara ett ord (i detta fall: 32 bitar) (t2) på minnesadress t1 + 4</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">        </span><span class="c1"># Resultat (i minnet): | 27 18 00 00 | 00 48 54 4b |</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="nl">stop:</span><span class="w">   </span><span class="nf">j</span><span class="w">       </span><span class="no">stop</span><span class="w">            </span><span class="c1"># Evig loop i slutet</span>
</span></code></pre></div></p>
<h2 id="forelasning-3-maskinkod">Föreläsning 3: Maskinkod</h2>
<h3 id="bytes-nibbles-och-ord">Bytes, nibbles och ord</h3>
<p>En <em>byte</em> = 8 bitar
En <em>nibble</em> = 1/2 ord
Ett <em>ord</em> = beror på processor (normalt 32/64 bitar)</p>
<h3 id="twos-complement">Two's complement</h3>
<ul>
<li>Första biten anger tecken (+/-).</li>
<li>-1 representeras som <code>0b111...1</code> (beroende på storlek).</li>
<li>Binär addition och subtraktion fungerar som vanligt.</li>
<li>För ett positivt tal <code>X</code>: <code>negativt(X) = ~X + 1</code></li>
</ul>
<h3 id="risc-v-typer-av-instruktioner">RISC-V: Typer av instruktioner</h3>
<h4 id="register-instruktioner-r">Register-instruktioner (R)</h4>
<p>Har tre registeroperander: två källor och ett mål.</p>
<table>
<thead>
<tr>
<th>31...25</th>
<th>24...20</th>
<th>19...15</th>
<th>14...12</th>
<th>11...7</th>
<th>6...0</th>
</tr>
</thead>
<tbody>
<tr>
<td>funct7</td>
<td>rs2</td>
<td>rs1</td>
<td>funct3</td>
<td>rd</td>
<td>opcode</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>funct3/7</strong> avgör vilket specifik operation som utförs.</li>
<li><strong>rs2/rs1</strong> är källregistren.</li>
<li><strong>rd</strong> är målregistret.</li>
<li><strong>opcode</strong> anger vilket format instruktionen är i.</li>
</ul>
<h4 id="immediate-instruktioner-i">Immediate-instruktioner (I)</h4>
<p>Har två registeroperatander och en immediate.</p>
<table>
<thead>
<tr>
<th>31...20</th>
<th>19...15</th>
<th>14...12</th>
<th>11...7</th>
<th>6...0</th>
</tr>
</thead>
<tbody>
<tr>
<td>imm</td>
<td>rs1</td>
<td>funct3</td>
<td>rd</td>
<td>opcode</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>imm</strong> är ett 12-bitars immediatevärde.</li>
</ul>
<p>T.ex. <code>lw t0, 8(s1)</code> kodas som <code>000000001000 01001 010 00101 0000011</code></p>
<h5 id="shift-immediate-instruktioner">Shift immediate-instruktioner</h5>
<p>Shift immediate-instruktionerna (<code>srli</code>, <code>slli</code> &amp; <code>srai</code>) ser lite annorlunda ut:</p>
<table>
<thead>
<tr>
<th>31...25</th>
<th>24...20</th>
<th>19...15</th>
<th>14...12</th>
<th>11...7</th>
<th>6...0</th>
</tr>
</thead>
<tbody>
<tr>
<td>imm<sub>11:5</sub></td>
<td>shamt</td>
<td>rs1</td>
<td>funct3</td>
<td>rd</td>
<td>opcode</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>imm<sub>11:5</sub></strong> avgör shift-beteende (aritmetiskt eller logiskt) - funct3 är identiskt för båda typerna av right-shift.</li>
<li><strong>shamt</strong> anger hur antalet shift-steg.</li>
</ul>
<h4 id="store-instruktioner-s">Store-instruktioner (S)</h4>
<p>Instruktioner som arbetar med två register och en immediateoperand, t.ex. <code>sw</code> (<em>store word</em>).</p>
<table>
<thead>
<tr>
<th>31...25</th>
<th>24...20</th>
<th>19...15</th>
<th>14...12</th>
<th>11...7</th>
<th>6...0</th>
</tr>
</thead>
<tbody>
<tr>
<td>imm<sub>11:5</sub></td>
<td>rs2</td>
<td>rs1</td>
<td>funct3</td>
<td>imm<sub>4:0</sub></td>
<td>opcode</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>imm</strong> är ett immediatevärde (för <code>sw</code>: förskjutning, i bytes).</li>
</ul>
<h4 id="branch-instruktioner-b">Branch-instruktioner (B)</h4>
<p>Instruktioner med två register och en immediateoperand.</p>
<table>
<thead>
<tr>
<th>31</th>
<th>30...25</th>
<th>24...20</th>
<th>19...15</th>
<th>14...12</th>
<th>11...8</th>
<th>7</th>
<th>6...0</th>
</tr>
</thead>
<tbody>
<tr>
<td>imm<sub>12</sub></td>
<td>imm<sub>10:5</sub></td>
<td>rs2</td>
<td>rs1</td>
<td>funct3</td>
<td>imm<sub>4:1</sub></td>
<td>imm<sub>11</sub></td>
<td>opcode</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>imm</strong> anger målets position <em>relativt</em> <code>pc</code> (notera att imm<sub>0</sub> saknas - denna antas =0).</li>
<li><strong>funct3</strong> avgör typ av branch (t.ex. <code>beq</code>, <code>bne</code>).</li>
</ul>
<h4 id="upper-immediate-instruktioner-u">Upper immediate-instruktioner (U)</h4>
<p>Instruktioner med ett register och ett stort (20-bitars) immediatevärde. I vårt fall: <code>lui</code>.</p>
<table>
<thead>
<tr>
<th>31...12</th>
<th>11...7</th>
<th>6...0</th>
</tr>
</thead>
<tbody>
<tr>
<td>imm</td>
<td>rd</td>
<td>opcode</td>
</tr>
</tbody>
</table>
<h4 id="jump-instruktioner-j">Jump-instruktioner (J)</h4>
<p>Instruktioner med ett register och ett stort (20-bitars) immediatevärde.</p>
<table>
<thead>
<tr>
<th>31</th>
<th>30...21</th>
<th>20</th>
<th>19...12</th>
<th>11...7</th>
<th>6...0</th>
</tr>
</thead>
<tbody>
<tr>
<td>imm<sub>20</sub></td>
<td>imm<sub>10:1</sub></td>
<td>imm<sub>11</sub></td>
<td>imm<sub>19:12</sub></td>
<td>rd</td>
<td>opcode</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>imm</strong> anger målets position <em>relativt</em> programräknaren (notera att imm<sub>0</sub> saknas - denna antas =0).</li>
<li><strong>rd</strong> anger vart returadressen (<code>pc</code> före hoppet + 4) skall sparas.</li>
</ul>
<blockquote>
<p>Obs! <code>jalr</code> (jump and link-register) är en I-instruktion, och använder <em>inte</em> <code>pc</code>-relativ adressering.
Istället hoppar vi till <code>imm</code> (12 bitar, teckenförlängt till 32 bitar) + <code>rs1</code>.</p>
</blockquote>
<h3 id="stack-minne">Stack-minne</h3>
<p>En stack (hög) är en minnespartition som används för att spara variabler och fler argument.
Läsning/skrivning sker på adressen i <code>sp</code> enligt principen LIFO (<em>last in, first out</em>).</p>
<p>Läs/skriv-makron kan definieras som följer (i RARS):</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="na">.macro</span><span class="w"> </span><span class="no">PUSH</span><span class="p">(</span><span class="nv">%reg</span><span class="p">)</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="nf">addi</span><span class="w">    </span><span class="no">sp</span><span class="p">,</span><span class="w"> </span><span class="no">sp</span><span class="p">,</span><span class="w"> </span><span class="mi">-4</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="nf">sw</span><span class="w">      </span><span class="nv">%reg</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">(</span><span class="no">sp</span><span class="p">)</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="na">.end_macro</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="na">.macro</span><span class="w"> </span><span class="no">POP</span><span class="p">(</span><span class="nv">%reg</span><span class="p">)</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="nf">lw</span><span class="w">      </span><span class="nv">%reg</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">(</span><span class="no">sp</span><span class="p">)</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span><span class="nf">addi</span><span class="w">    </span><span class="no">sp</span><span class="p">,</span><span class="w"> </span><span class="no">sp</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="na">.end_macro</span>
</span></code></pre></div>
<h2 id="forelasning-4-c">Föreläsning 4: C</h2>
<h3 id="pointer-aritmetik">Pointer-aritmetik</h3>
<div class="language-c highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">arr</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">};</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">printf</span><span class="p">(</span><span class="s">&quot;arr[1] : %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">printf</span><span class="p">(</span><span class="s">&quot;arr[1] : %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="n">arr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span>
</span></code></pre></div>
<h2 id="forelasning-5-io-system-12">Föreläsning 5: I/O-system (1/2)</h2>
<ul>
<li>Memory mapped I/O - särskilda bitar av minnet används för I/O-enheter.</li>
</ul>
<h3 id="bussar">Bussar</h3>
<p>En <em>bus</em> är ett delat nätverk varigenom processorn kan kommunicera med minne och I/O-enheter.</p>
<p>Tre linjer:</p>
<ul>
<li>Adress: Adressen där data läses/skrivs.</li>
<li>Data: Data som lästs, eller som ska skrivas.</li>
<li>Kontroll: T.ex. handskakningssignaler.</li>
</ul>
<p>Varje I/O-enhet har ett eget adressomfång. <em>Dessa är alltid unika och överlappar ej.</em>
När en enhet inte kommunicerar är dess bus-anslutningar avstängda med hög impedans (uppnås med en tri-state gate).</p>
<h4 id="synkron-buss">Synkron buss</h4>
<p>Dataöverföring på en synkron buss synkroniseras med en bussklocka. En läsoperation kan ske på följande vis:</p>
<ol>
<li>En kontrollsignal indikerar att vi vill läsa. Processorn lägger adressen på bussen.</li>
<li>Alla enheter läser adressen; endast en enhet svarar genom att lägga fram data.</li>
</ol>
<h4 id="asynkron-buss">Asynkron buss</h4>
<p>Asynkrona bussar saknar klocka. Istället används ett handskakningsprotokoll mellan deltagande parter. En läsoperation kan ske på följande vis:</p>
<ol>
<li>Ledaren lägger adressen på bussen. Andra enheter avkodar informationen.</li>
<li>Ledaren sätter "ledare redo".</li>
<li>Följaren lägger data på bussen och signalerar "följare redo" (dvs. data redo).</li>
<li>Ledaren läser data och sätter "ledare redo" till <em>LOW</em>.</li>
<li>När följaren ser att "ledare redo" sjunker kan den sluta skicka data. "Följare redo" sätts till <em>LOW</em>.</li>
</ol>
<h4 id="direkt-minnesatkomst-dma">Direkt minnesåtkomst (DMA)</h4>
<p>För att undvika att processorn hålls upptagen av dataöverföring mellan I/O-enheter, särskilt då ordvis
överföring av stora mängder data är ineffektivt, används DMA.</p>
<ul>
<li>DMA tillåter överföringar av data mellan olika delar av minnet, utan att ständigt inblanda processorn.</li>
<li>Processorn skickar en DMA-förfrågan (vilken adress och mängd data som skall överföras).</li>
<li>En DMA-kontroller genomför överföringen - processorn kan göra annat under tiden.</li>
<li>DMA-kontrollern kan utfärda en interrupt-förfrågan (IRQ) när överföringen är färdig.</li>
</ul>
<h2 id="forelasning-6-io-system-22">Föreläsning 6: I/O-system (2/2)</h2>
<h3 id="parallellseriell-kommunikation">Parallell/seriell kommunikation</h3>
<ul>
<li><strong>Parallell:</strong> Flera linor.</li>
<li><strong>Seriell:</strong> Synkront (t.ex. SPI, I2C) eller asynkront (t.ex. UART).</li>
</ul>
<h3 id="undantag-och-avbrott">Undantag och avbrott</h3>
<p>Ett undantag (<em>exception</em>) kan orsakas av ett fel (t.ex. ogiltig instruktion), avbrott (<em>interrupt</em> - en speciell sorts
undantag - t.ex. ett knapptryck) eller mjukvaruavbrott (t.ex. systemanrop).</p>
<p>Undantag hanteras av <em>undantagshanteraren</em> (på adress 0x00000000):</p>
<ol>
<li>Processorn sparar nuvarande <code>pc</code> i <code>mepc</code> och undantagsorsaken i <code>mcause</code>.</li>
<li>Processorn inaktiverar avbrott i <code>mstatus</code>.</li>
<li>Processorn hoppar till adressen <code>mtvec</code> (undantagshanteraren, = 0x00000000).</li>
<li>Undantagshanteraren sparar register på stacken, undersöker orsaken och anropar avbrottshanteraren, och återställer sparade register.</li>
<li>Undantagshanteraren hoppar till <code>mepc</code> (eller <code>mepc</code> + 4 vid mjukvaruavbrott).</li>
</ol>
<p>Externa avbrott hanteras normalt av en PLIC. I denna kurs behandlas dock alla avbrott som lokala, och hanteras därför av CLINT.</p>
<p>I ARM används olika undantagshanterare beroende på orsak - detta kallas för en <em>undantagsvektor</em>.</p>
<h4 id="aktivera-avbrott">Aktivera avbrott</h4>
<p>Avbrott måste aktiveras både på I/O-enheten och globalt (bit #3 i <code>mstatus</code>). Varje avbrottstyp som skall hanteras måste också accepteras av processorn (bit #&lt;exception cause no.&gt; i <code>mie</code>).</p>
<h2 id="forelasning-7-kombinationslogik">Föreläsning 7: Kombinationslogik</h2>
<h3 id="logiska-grindar">Logiska grindar</h3>
<ul>
<li>Negation: <strong>NOT</strong></li>
<li>Konjunktion: <strong>AND</strong> ("alla") och <strong>NAND</strong> ("inte alla").</li>
<li>Disjunktion: <strong>OR</strong> ("minst en"), <strong>XOR</strong> ("udda antal") och <strong>NOR</strong> ("ingen").</li>
<li>Ekvivalens: <strong>XNOR</strong> ("lika")</li>
<li><strong>BUF</strong>: Logiskt ekvivalent med en ledning. Av betydelse endast ur ett analogiskt perspektiv.</li>
</ul>
<h3 id="boolesk-algebra">Boolesk algebra</h3>
<ul>
<li><strong>AND:</strong> <span class="arithmatex">\(AB\)</span> eller <span class="arithmatex">\(A\cdot B\)</span></li>
<li><strong>OR:</strong> <span class="arithmatex">\(A+B\)</span></li>
<li><strong>NOT:</strong> <span class="arithmatex">\(\overline A\)</span> eller <span class="arithmatex">\(A'\)</span></li>
</ul>
<blockquote>
<p><strong>De Morgans lagar:</strong></p>
<div class="arithmatex">\[\overline{AB}=\overline{A}+\overline{B}\quad\text{och}\quad\overline{A+B}=\overline{A}\cdot\overline{B}\]</div>
</blockquote>
<h3 id="kombinationskretsar">Kombinationskretsar</h3>
<p>Kombinationskretsar <em>påverkas enbart av aktuell inmatning</em>.</p>
<blockquote>
<p><strong>Problem:</strong></p>
<ul>
<li>Instabila kretsar: T.ex. ringoscillatorer.</li>
<li>Otillåtna värden ("X"): T.ex. en ledning mottar 0 och 1 samtidigt (contention).</li>
</ul>
</blockquote>
<p><strong>Tristate:</strong> Har hög impedans ("Z") om "utmatning aktiv"-signalen inte är aktiv. Används i bussar för att undvika contention.</p>
<h4 id="multiplexrar-och-avkodare">Multiplexrar och avkodare</h4>
<p>En <em>multiplexer</em> tar 2+ bitar som indata och ger 1 bit utdata. Kontrollsignalen S avgör vilken som släpps igenom.</p>
<p>En <em>avkodare</em> har N ingångar och 2<sup>N</sup> utgångar.
Varje möjlig kombination av indata motsvaras av en utgång.</p>
<h4 id="aritmetik">Aritmetik</h4>
<h5 id="adderare">Adderare</h5>
<p>En <em>halvadderare</em> har en <em>carry out</em>-signal.<br>
En <em>heladderare</em> tar dessutom in en <em>carry in</em>-signal.</p>
<h5 id="carry-propagate-adder-cpa">Carry propagate adder (CPA)</h5>
<p>En <em>carry propagate adder</em> beräknar summan av två N-bitarstal. Tre vanliga implementationer:</p>
<ol>
<li>Ripple-carry: Enkel men långsam. Består av flera seriekopplade heladderare.</li>
<li>Carry-lookahead: Snabbare (delar upp beräkningen i block).</li>
<li>Prefix-adderare: Snabbast. Används i moderna datorer.</li>
</ol>
<blockquote>
<p><strong>Subtraktion:</strong><br>
Subtraktion utförs enkelt med en CPA genom att invertera signal B och låta C<sub>in</sub> = 1.</p>
</blockquote>
<h2 id="forelasning-8-sekventiell-logik">Föreläsning 8: Sekventiell logik</h2>
<p>Sekventiella kretsar påverkas av <em>både aktuella och tidigare indata</em>.</p>
<blockquote>
<p><strong>Bistabilitet:</strong><br>
Bistabila kretsar har två stabila tillstånd, och kan alltså lagra 1 bit.</p>
</blockquote>
<h3 id="sr-vippa-sr-latch">SR-vippa (SR latch)</h3>
<p>Två ingångar: SET (<span class="arithmatex">\(S\)</span>) och RESET (<span class="arithmatex">\(R\)</span>)</p>
<p>Om <span class="arithmatex">\(S=0\)</span>, <span class="arithmatex">\(R=0\)</span> minns kretsen det tidigare värdet.<br>
Om <span class="arithmatex">\(S=1\)</span> eller <span class="arithmatex">\(R=1\)</span> ändras tillståndet till <span class="arithmatex">\(Q=1\)</span> resp. <span class="arithmatex">\(Q=0\)</span>.</p>
<p>Problem:</p>
<ul>
<li>Om <span class="arithmatex">\(S=1\)</span> och <span class="arithmatex">\(R=1\)</span> blir både <span class="arithmatex">\(Q\)</span> och <span class="arithmatex">\(\overline Q\)</span> noll.</li>
<li>Blandar <em>vad</em> som uppdateras och <em>när</em> - en utmaning i större kretsar.</li>
</ul>
<h3 id="d-latch">D latch</h3>
<p>Två ingångar: <span class="arithmatex">\(D\)</span> och <span class="arithmatex">\(CLK\)</span></p>
<p>Tillståndet ändras för att matcha <span class="arithmatex">\(D\)</span> när vippan är transparent (<span class="arithmatex">\(CLK=1\)</span>):</p>
<table>
<thead>
<tr>
<th><span class="arithmatex">\(CLK\)</span></th>
<th><span class="arithmatex">\(D\)</span></th>
<th><span class="arithmatex">\(Q\)</span></th>
<th><span class="arithmatex">\(\overline Q\)</span></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>?</td>
<td><span class="arithmatex">\(Q_\text{pre}\)</span></td>
<td><span class="arithmatex">\({\overline Q}_\text{pre}\)</span></td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
<h3 id="flip-flops">Flip-flops</h3>
<p>Flip-flops är <em>edge-triggered</em> (till skillnad från SR/D-latches, som är <em>level-triggered</em>).</p>
<h4 id="d-vippa-d-flip-flop">D-vippa (D flip-flop)</h4>
<p>Består av två sammankopplade D-latches (<em>"ledare"</em> och <em>"följare"</em>).</p>
<ol>
<li><span class="arithmatex">\(\overline{CLK}\)</span>: <span class="arithmatex">\(D_\text{in}\)</span> släpps igenom av ledaren.</li>
<li><span class="arithmatex">\(CLK\)</span>: Ledaren låses och följaren släpper igenom den nu låsta signalen.</li>
</ol>
<p>Beteende: När <span class="arithmatex">\(CLK\)</span> går från <em>LOW</em> till <em>HIGH</em> kopieras <span class="arithmatex">\(D\)</span> till <span class="arithmatex">\(Q\)</span>.</p>
<h4 id="resettableenabled-flip-flops">Resettable/enabled flip-flops</h4>
<p>En <em>nollställbar flip-flop</em> sätts till 0 när <span class="arithmatex">\(RESET\)</span>-signalen är aktiv.</p>
<blockquote>
<p>En <em>synkront nollställbar</em> flip-flop kan endast nollställas i samband med en stigande klocksignal.<br>
En <em>asynkront nollställbar</em> flip-flop kan nollställas obereonde av klockan.</p>
</blockquote>
<p>En <em>aktiverad flip-flop</em> tillåts endast skifta läge om (utöver <span class="arithmatex">\(CLK\)</span>) även <span class="arithmatex">\(EN\)</span>-signalen är aktiv.</p>
<h3 id="register">Register</h3>
<p>Ett N-bitars <em>register</em> består av N stycken flip-flops med gemensam klocka. Register kan, likt enskilda flip-flops, ha <span class="arithmatex">\(EN\)</span>- och <span class="arithmatex">\(RESET\)</span>-signaler.</p>
<blockquote>
<p><strong>Output enable (OE)- register:</strong><br>
Består av ett register med en tristate-buffer på utgången. Om <span class="arithmatex">\(OE=0\)</span> är <span class="arithmatex">\(Q=Z\)</span> (flytande), annars är <span class="arithmatex">\(Q=Q_\text{register}\)</span>.</p>
</blockquote>
<h4 id="registerfil">Registerfil</h4>
<p>Tillåter adressering av data genom att kombinera flera register:</p>
<p>En avkodare väljer (beroende på adressen <span class="arithmatex">\(A3\)</span>) vilket register som, om även <span class="arithmatex">\(WE3\)</span>, data på <span class="arithmatex">\(WD3\)</span> skall skrivas till.<br>
En multiplexer väljer (beroende på adresserna <span class="arithmatex">\(RD1,RD2\)</span>) från vilka två register som data skall läsas till <span class="arithmatex">\(RD1,RD2\)</span>.<br>
De ingående registren har alla en gemensam klocka.</p>
<h3 id="synkrona-sekventiella-kretsar">Synkrona sekventiella kretsar</h3>
<ul>
<li>Kombinationslogik kombineras med register</li>
<li>Kretsens <em>tillstånd</em> ändras endast vid clock edge</li>
<li>En synkron sekventiell krets kan definieras som en FSM (finit tillståndsmaskin):<ul>
<li><em>Mealy-maskin:</em> Utdata kan vara direkt beroende av indata (Mealy-maskin).</li>
<li><em>Moore-maskin:</em> Utdata beror endast på tillståndet (dvs. ej direkt på indata).</li>
</ul>
</li>
</ul>
<h4 id="hur-snabbt-kan-vi-kora-en-krets">Hur snabbt kan vi köra en krets?</h4>
<p>Klockperioden måste vara längre än värsta-fallsfördröjningen i kretsen:</p>
<div class="arithmatex">\[\text{delay}=t_\text{prop}+t_\text{combinational}+t_\text{setup}+t_\text{skew}\]</div>
<ul>
<li><span class="arithmatex">\(t_\text{prop}\)</span> är tiden det tar för signalen att färdas genom registret</li>
<li><span class="arithmatex">\(t_\text{combinational}\)</span> är den längsta tidsåtgången för kombinationslogiken</li>
<li><span class="arithmatex">\(t_\text{setup}\)</span> är nödvändig tid före klocksignalens stigning.</li>
<li><span class="arithmatex">\(t_\text{skew}\)</span> är <em>clock skew</em>-kompensation (klocksignaler når olika state tillståndselement olika snabbt)</li>
</ul>
<p>Ett <em>race</em> kan uppstå om värdena hos olika tillståndselement beror på den relativa hastigheten hos kretsens logiska element.</p>
<h2 id="forelasning-9-alu-och-encykelprocessor">Föreläsning 9: ALU och encykelprocessor</h2>
<h3 id="alu-aritmetisk-logisk-enhet">ALU (aritmetisk logisk enhet)</h3>
<p>Utför aritmetiska/logiska operationer på två N-bitarsvärden <span class="arithmatex">\(A\)</span> och <span class="arithmatex">\(B\)</span>. Vilken operation som utförs beror på ingångssignalen <span class="arithmatex">\(F\)</span>.</p>
<p>En ALU kan också ge statusflaggor såsom overflow, nollflagga, etc.</p>
<h3 id="data-path-i-encykelprocessorer">Data path (i encykelprocessorer)</h3>
<ul>
<li>Arkitekturellt tillstånd:<ul>
<li>Programräknare (ett 32-bitarsregister som adderas med 4 varje klockcykel)</li>
<li>32 inbyggda register</li>
</ul>
</li>
<li>Instruktions- och dataminne</li>
</ul>
<p>Läsning från registerfilen, instruktionsminnet och dataminnet sker kombinationellt - oberoende av klockcykel.
När adressen ändras, gör även data på läsporten det direkt efter kretsens fortplantningstid.</p>
<h3 id="kontrollenhet-i-encykelprocessor">Kontrollenhet (i encykelprocessor)</h3>
<p>Läser nuvarande instruktion från datapath, och talar, utgåendes från denna information, om för datapath hur en instruktion utförs.<br>
En kontrollenhet kan t.ex. delas upp i en huvuddel och en ALU-avkodare.</p>
<p>Styr följande <em>kontrollsignaler</em>:</p>
<ul>
<li>ImmSrc: hur immediate-värdet skall tolkas (dess bitar är utspridda på olika sätt i olika instruktioner)</li>
<li>ALUSrc: varifrån värden till ALU:n skall hämtas ifrån (2 register eller 1 register + immediate)</li>
<li>ALUControl: vilket ALU-operation som skall utföras</li>
<li>RegWrite: huruvida data skall skrivas till registerfilen</li>
<li>MemWrite: huruvida data skall skrivas till minnet</li>
<li>ResultSrc: varifrån resultatet, som ev. sedansparas i registret, ska hämtas ifrån (minnets läsport eller direkt från ALU:en)</li>
<li>Branch: Om en branch skall genomföras</li>
</ul>
<h3 id="prestanda">Prestanda</h3>
<p>Det största problemet med en encykelsdesign är den långa kritiska vägen, då vissa instruktioner tar lång tid.
I och med synkron logik kommer klockhastigheten att begränsas av detta.</p>
<h2 id="forelasning-10-pipeline-processorer">Föreläsning 10: Pipeline-processorer</h2>
<h3 id="begrepp">Begrepp</h3>
<ul>
<li><strong>Processing system:</strong> Ett system som behandlar data.</li>
<li><strong>Token:</strong> En datapunkt som hanteras av systemet och leder till utdata.</li>
<li><strong>Latens:</strong> Tidsåtgång för att hantera en token.</li>
<li><strong>Throughput:</strong> Antalet tokens som kan behandlas per tidsenhet.</li>
</ul>
<h3 id="parallellism-och-pipelining">Parallellism och pipelining</h3>
<p>Exempel: En fabrik med två maskiner, som sköter två olika processer.</p>
<ul>
<li><strong>Sekventiell hantering:</strong> En token i taget, sekventiellt. Någon maskin "vilar" alltid.</li>
<li><strong>Parallell hantering (spatial parallellism):</strong> Fler maskiner hanterar flera tokens. 50% av maskinerna "vilar".</li>
<li><strong>Pipelining (temporal parallellism):</strong> Endast två maskiner - men processerna schemaläggs så att den långsammaste processen pågår konstant, och går direkt från en token till nästa. Den andra maskinen påbörjar sitt arbete när den första är färdig.<ul>
<li>Minimerar väntetid.</li>
<li>Throughput avgörs av den maskinen som tar längst tid.</li>
<li>Instruktioner/cykel förbättras inte (minskar t.o.m. lite) - men den kritiska vägen (och därmed cykelperioden) blir kortare.</li>
<li>Datapath kan delas in i steg: hämta, avkoda, beräkna, läsa/skriva minne och spara i register.</li>
</ul>
</li>
</ul>
<h3 id="data-och-kontrollfaror">Data- och kontrollfaror</h3>
<p>Om det finns inbördes beroenden mellan instruktioner i en sekvens uppstår en datafara (om pipeline då fylls kan resultat bli oväntat).</p>
<ul>
<li>
<p><strong>Read after write (RAW):</strong> En instruktion försöker läsa ett register som ännu inte skrivits till.</p>
<ul>
<li>Möjlig lösning: Forwarning. Beräkningsresultatet vidarebefordras direkt till exekveringssteget för nästa instruktion.<ul>
<li>Fungerar ej om nödvändig data inte är tillgänglig ännu. Data hämtad med <code>lw</code> t.ex. inte tillgänglig förrän steg 4 (minne).</li>
</ul>
</li>
<li>Alternativt: Stalling tills forwarding är möjligt. Leder till &lt;1 instruktioner/cykel.</li>
</ul>
</li>
<li>
<p><strong>Anta branch ej tagen:</strong> Om en branch tas upptäcks detta först i minnes-steget - pipeline måste då spolas.</p>
<ul>
<li>Möjlig lösning: Flytta branch-adressberäkning till avkodningssteget och hantera <code>beq</code> redan där.<ul>
<li>Kan leda till nya datafaror (om operander inte är tillgängliga i avkodningssteget) - löses med forwarding eller stalling.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="antalet-pipeline-steg">Antalet pipeline-steg</h3>
<ul>
<li>Många steg ger en kortare kritisk väg (möjliggör högre klockfrekvens).</li>
<li>Problem: Högre strömförbrukning, mer hårdvara (register) och dyrare branch mispredictions.</li>
</ul>
<h4 id="hur-minimera-branch-mispredictions">Hur minimera branch mispredictions?</h4>
<p><em>Statiska branch predictors</em> förutspår vid kompilering om en branch kommer att tas.<br>
<em>Dynamiska branch predictors</em> använder en <em>branch target buffer</em> (information om hur tidigare branch-instruktioner fallit ut).</p>
<h2 id="forelasning-11-minneshierarki">Föreläsning 11: Minneshierarki</h2>
<h2 id="forelasning-12-parallellism-samtidighet-uppsnabbning-och-ilp">Föreläsning 12: Parallellism, samtidighet, uppsnabbning och ILP</h2>
<h2 id="forelasning-13-simd-mimd-och-parallellprogrammering">Föreläsning 13: SIMD, MIMD och parallellprogrammering</h2>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Kopierat till urklipp", "clipboard.copy": "Kopiera till urklipp", "search.result.more.one": "1 till p\u00e5 denna sida", "search.result.more.other": "# till p\u00e5 denna sida", "search.result.none": "Inga s\u00f6kresultat", "search.result.one": "1 s\u00f6kresultat", "search.result.other": "# s\u00f6kresultat", "search.result.placeholder": "Skriv s\u00f6kord", "search.result.term.missing": "Saknas", "select.version": "V\u00e4lj version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../js/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>